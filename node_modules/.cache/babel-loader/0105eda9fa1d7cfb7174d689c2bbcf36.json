{"ast":null,"code":"var _jsxFileName = \"/home/development/floey 1/CustomerPortal/Sept14,2021/floey-customer/src/views/components/ExploreComponents/ExploreClassCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { HandleBookng } from \"../../../assets/js/Events/HandleBooking\";\nimport Cookies from 'universal-cookie';\nimport BASE_URL from \"../../pages/base\";\nimport Loader from \"../../../assets/img/loader\";\nimport $ from \"jquery\";\nimport { useHistory, useParams } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\n\nconst axios = require('axios');\n\nconst d = new Date(); // const queryString = require('query-string');\n\nconst queryParams = new URLSearchParams(window.location.search);\n\nconst ExploreClassCard = _ref => {\n  _s();\n\n  let {\n    buttonValue,\n    ButtonOnClick,\n    seats,\n    id\n  } = _ref;\n  // alert(window.location.search.get('level'))\n  // const params = new URLSearchParams(window.location.path);\n  // const tags = params.get('level'); \n  // console.log('Level : '+queryParams.get('level'))\n  // console.log('Age : '+queryParams.get('age'))\n  // console.log('Gender : '+queryParams.get('gender'))\n  const [date, setSlots] = useState([]);\n  const [cls, getclasses] = useState([]);\n  useEffect(() => {\n    // console.clear();\n    // console.log(buttonValue)\n    // console.log(id)\n    // console.log(d.getDay())\n    // console.log(parseInt(cookies.get('date').split(' ')[0])>d.getDay()+1)\n    if (id && id !== 1) {\n      // alert(cookies.get('date'))\n      axios.get(BASE_URL + 'gymprofile/get_class/' + id + '/?date=' + cookies.get('date')).then(res => {\n        // $(\".laoder\").show();\n        // console.log(cookies.get('date').split()[0])  \n        getclasses(res.data);\n        debugger;\n        console.log(res.data);\n      }).catch(err => {});\n    }\n  }, []);\n  useEffect(() => {\n    HandleBookng();\n  }, []); // alert(cookies.get(\"gym_uuid\"))\n  // *******GymClasses*******\n  // ============GymPRofile==========\n\n  const [getgym, setgym] = useState([]);\n  useEffect(() => {\n    axios.get(BASE_URL + 'gymprofile/gym/' + cookies.get('gym_id')).then(res => {\n      setgym(res.data);\n    }).catch(err => {});\n  }, []); // =========BOOK-CLASS=========\n\n  async function Bookclass(clas, id) {\n    debugger;\n    console.log(clas);\n    var user_uuid = cookies.get('uuid');\n    var class_uuid = clas.uuid;\n    var gym_id = cookies.get('gym_id');\n    var date = cookies.get('date');\n    {\n      console.log('Trying to send request'); // e.preventDefault();\n\n      var config = {\n        method: 'post',\n        url: BASE_URL + 'user/bookclass/list/',\n        headers: {\n          'content-type': `application/json`\n        },\n        data: {\n          user_uuid: user_uuid,\n          class_uuid: class_uuid,\n          gym_id: gym_id,\n          date: date\n        }\n      };\n\n      try {\n        let res = await axios(config);\n\n        if (res.status === 200 || res.status === 201) {\n          console.log(res.status);\n          console.log(res.data);\n          console.log(id);\n          window.location = '/dashboard';\n        } // Don't forget to return something\n\n\n        return res.data;\n      } catch (err) {\n        alert('Signup Failed , Please try again.'); //  window.location='/explore'\n        //  alert(err)\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: cls.gym && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ScheduleCard explore-class-card \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"laoder\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n          src: Loader\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"first-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image\",\n          children: cls.class_image && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: BASE_URL.slice(0, -1) + cls.class_image,\n            alt: \"image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-150\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: cls.class_topic\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Start time \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: cls.start_time\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 20\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"w-120\",\n          children: [cls.level, /*#__PURE__*/_jsxDEV(\"span\", {\n            children: cls.class_gender\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 11\n          }, this), cls.classes_age_group ? cls.classes_age_group : cls.age_data, parseInt(cls.start_time.split(':')[0]) > d.getHours() && cls.no_of_participants <= 6 && cls.no_of_participants + ' available']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"mobile-view-seats\",\n          children: seats\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"second-col\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Address\", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: cls.location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cancel-button-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"book-btn \" + cookies.get('theme'),\n            id: `book-${id}`,\n            style: {\n              display: \"block\"\n            },\n            onClick: e => {\n              ButtonOnClick(true);\n              Bookclass(cls, id);\n            },\n            children: buttonValue\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: `booked-${id}`,\n            className: \"booked-button\",\n            style: {\n              display: \"none\"\n            },\n            children: \"Booked\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: `cancel-${id}`,\n            className: \"cancel-button\",\n            style: {\n              display: \"none\"\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"available-seats\",\n            id: `seats-${id}`,\n            children: [cls.seat_available <= 5 ? cls.seat_available + ' seats available' : 'Available', seats]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n\n_s(ExploreClassCard, \"7O5u3Nnrs0A63lczRkXbxvM68fU=\");\n\n_c = ExploreClassCard;\nexport default ExploreClassCard;\n\nhttp: //127.0.0.1:8000/gymprofile/dateslots/?city=Indore\n{\n  /* <> \n     {cls.map(data=>(\n     <div className=\"ScheduleCard explore-class-card \">\n    \n  \n         <div className=\"first-col\"> \n         <div className=\"image\"></div>\n          \n         <p>\n         09:00am<span>(60 min)</span>\n         </p>\n         <p>\n           All Levels<span>Female</span>\n           <span>(18+)</span>\n           <span>{data.no_of_participants}</span>\n         </p>\n          <p>\n           PILATES<span>Shuwaikh Mayar Complex</span>\n           <span>w/ Lucy</span>\n         </p>\n         \n         <span class=\"mobile-view-seats\">{seats}</span>\n       </div>\n        <div className=\"cancel-button-wrapper\">\n         <div>\n           <button\n             className=\"book-btn\"\n             id={`book-${id}`}\n             onClick={(e) => {\n               ButtonOnClick(true);\n             }}>\n             {buttonValue}\n           </button>\n            <button\n             id={`booked-${id}`}\n             className=\"booked-button\"\n             style={{ display: \"none\" }}>\n             Booked\n           </button>\n            <button\n             id={`cancel-${id}`}\n             className=\"cancel-button\"\n             style={{ display: \"none\" }}>\n             Cancel\n           </button>\n            <span className=\"available-seats\" id={`seats-${id}`}>\n             {seats}\n           </span>\n           \n         </div>\n         \n       </div>\n       \n     </div>\n       ))}\n       \n      \n     </>\n   );\n  } */\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"ExploreClassCard\");","map":{"version":3,"sources":["/home/development/floey 1/CustomerPortal/Sept14,2021/floey-customer/src/views/components/ExploreComponents/ExploreClassCard.js"],"names":["React","useEffect","useState","HandleBookng","Cookies","BASE_URL","Loader","$","useHistory","useParams","cookies","axios","require","d","Date","queryParams","URLSearchParams","window","location","search","ExploreClassCard","buttonValue","ButtonOnClick","seats","id","date","setSlots","cls","getclasses","get","then","res","data","console","log","catch","err","getgym","setgym","Bookclass","clas","user_uuid","class_uuid","uuid","gym_id","config","method","url","headers","status","alert","gym","class_image","slice","class_topic","start_time","level","class_gender","classes_age_group","age_data","parseInt","split","getHours","no_of_participants","display","e","seat_available","http"],"mappings":"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AA,kBArBF,eA4BE;AAAM,YAAA,SAAS,EAAC,iBAAhB;AAAkC,YAAA,EAAE,EAAG,SAAQxC,EAAG,EAAlD;AAAA,uBACCG,GAAG,CAACuC,cAAJ,IAAoB,CAApB,GAAsBvC,GAAG,CAACuC,cAAJ,GAAmB,kBAAzC,GAA4D,WAD7D,EAEG3C,KAFH;AAAA;AAAA;AAAA;AAAA;AAAA,kBA5BF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cArDU;AAAA;AAAA;AAAA;AAAA;AAAA;AAFb,mBADD;AAqGD,CAvND;;GAAMH,gB;;KAAAA,gB;AAyNN,eAAeA,gBAAf;;AAEA+C,IAAI,EAAC;AAEL;AAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOK","sourcesContent":["import React, { useEffect,useState } from \"react\";\nimport { HandleBookng } from \"../../../assets/js/Events/HandleBooking\";\nimport Cookies from 'universal-cookie';\nimport BASE_URL from \"../../pages/base\";\nimport Loader from \"../../../assets/img/loader\";\nimport $ from \"jquery\";\nimport { useHistory, useParams } from \"react-router\";\n\n\nconst cookies = new Cookies();\nconst axios = require('axios');\nconst d = new Date();\n// const queryString = require('query-string');\nconst queryParams = new URLSearchParams(window.location.search);\nconst ExploreClassCard =({ buttonValue, ButtonOnClick, seats, id})=> {\n  \n  // alert(window.location.search.get('level'))\n  // const params = new URLSearchParams(window.location.path);\n  // const tags = params.get('level'); \n  \n  // console.log('Level : '+queryParams.get('level'))\n  // console.log('Age : '+queryParams.get('age'))\n  // console.log('Gender : '+queryParams.get('gender'))\n  const [date, setSlots] = useState([])\n\n  const [cls, getclasses] = useState([])\n  useEffect(() => {\n    // console.clear();\n    // console.log(buttonValue)\n    // console.log(id)\n    // console.log(d.getDay())\n    // console.log(parseInt(cookies.get('date').split(' ')[0])>d.getDay()+1)\n    if(id && id!==1){\n      \n      // alert(cookies.get('date'))\n      \n    axios\n      .get(BASE_URL + 'gymprofile/get_class/'+id+'/?date='+cookies.get('date'))\n      \n      .then(res => {\n        // $(\".laoder\").show();\n        \n        // console.log(cookies.get('date').split()[0])  \n        getclasses(res.data)\n        debugger\n        console.log(res.data)\n        \n      })\n      .catch(err => {\n        \n      })\n    }\n    \n  }, [])\n  useEffect(() => {\n    HandleBookng();\n  }, []);\n  \n// alert(cookies.get(\"gym_uuid\"))\n\n  // *******GymClasses*******\n \n\n\n  // ============GymPRofile==========\n\n  const [getgym,setgym] = useState([])\n  useEffect(() => {\n    axios\n    .get(BASE_URL + 'gymprofile/gym/' + cookies.get('gym_id'))\n    .then(res => {\n\n      setgym(res.data)\n    \n    })\n    .catch(err => {\n      \n    })\n  }, [])\n  \n  // =========BOOK-CLASS=========\n\n  async function Bookclass(clas,id) {\n    debugger\n    console.log(clas)\n  var user_uuid = cookies.get('uuid');\n  var class_uuid = clas.uuid;\n  var gym_id = cookies.get('gym_id')\n  var date = cookies.get('date')\n  {  \n    \n     console.log('Trying to send request');\n     // e.preventDefault();\n     var config = {\n       method:'post',\n      url:BASE_URL + 'user/bookclass/list/',\n      headers: { \n        'content-type': `application/json`,\n      }, \n      data:{\n         user_uuid:user_uuid,\n         class_uuid:class_uuid,\n         gym_id:gym_id,\n         date:date\n       }\n     }\n     try {\n         let res = await axios(config)\n         \n         if (res.status === 200||res.status === 201) {\n             console.log(res.status);\n             console.log(res.data);\n             console.log(id)\n             window.location='/dashboard';\n            \n  \n         }\n         // Don't forget to return something\n         return res.data\n     }\n     catch (err) {\n         alert('Signup Failed , Please try again.');\n        //  window.location='/explore'\n        //  alert(err)\n     }\n  }\n  }\n  \n  return (\n   <> \n    \n    {cls.gym && <div className=\"ScheduleCard explore-class-card \">\n    {/* {this.state.classes.map(clas=>{ */}\n\n      <div class=\"laoder\"> <img src={Loader} /></div>\n        <div className=\"first-col\"> \n        \n        \n        <div className=\"image\">\n\n          {cls.class_image && <img src={BASE_URL.slice(0,-1)+ cls.class_image} alt=\"image\" />}\n        </div>\n        {/* <div><button onClick={GetClasses}>tt</button></div> */}\n        \n        <div className=\"w-150\">\n        <strong><p>\n              {cls.class_topic}\n        </p></strong>\n\n        <p>\n        Start time <strong>{cls.start_time}</strong>\n        </p>\n        </div>\n        \n      \n        <p className=\"w-120\">\n\n          {/* <span>(18+)</span> */}\n          \n          {cls.level}\n          <span>{cls.class_gender}</span>\n          {cls.classes_age_group?cls.classes_age_group:cls.age_data}\n          {parseInt(cls.start_time.split(':')[0])> d.getHours() && cls.no_of_participants<=6 && cls.no_of_participants+' available'}\n\n          {/* <span>{cls.no_of_participants}</span>\n          <span>{cls.location}</span> */}\n        </p>\n\n        \n        <span class=\"mobile-view-seats\">{seats}</span>\n      </div>\n\n      <div className=\"second-col\">\n      \n        <p>\n          Address<span>{cls.location}</span>\n          {/* Address<span>{cls.class_address}</span> */}\n\n          {/* {cls.class_gender} */}\n          {/* <span>w/ Lucy</span> */}\n        </p>\n        {/* <a href=\"\">More Info</a> */}\n      </div> \n\n      <div className=\"cancel-button-wrapper\">\n        <div>\n          {/* {parseInt(cls.start_time.split(':')[0])> d.getHours() || parseInt(cookies.get('date').split(' ')[0])>d.getDay()+1? */}\n           <button\n            className={\"book-btn \"+cookies.get('theme')}\n            id={`book-${id}`}\n            style={{ display: \"block\" }}\n            onClick={(e) => {\n              ButtonOnClick(true);\n              Bookclass(cls,id);\n            }}>\n            {buttonValue}\n          </button>\n          {/* :<p>Class Already started</p>} */}\n\n          <button\n            id={`booked-${id}`}\n            className=\"booked-button\"\n            style={{ display: \"none\" }}>\n            Booked\n          </button>\n\n          <button\n            id={`cancel-${id}`}\n            className=\"cancel-button\"\n            style={{ display: \"none\" }}>\n            Cancel\n          </button>\n\n          <span className=\"available-seats\" id={`seats-${id}`}>\n          {cls.seat_available<=5?cls.seat_available+' seats available':'Available'}\n            {seats}\n          </span>\n          \n        </div>\n        \n      </div>\n      \n    </div>\n    }  \n\n      \n     \n   </>\n  );\n}\n\nexport default ExploreClassCard;\n\nhttp://127.0.0.1:8000/gymprofile/dateslots/?city=Indore\n\n{/* <> \n    {cls.map(data=>(\n    <div className=\"ScheduleCard explore-class-card \">\n   \n\n\n        <div className=\"first-col\"> \n        <div className=\"image\"></div>\n\n        \n        <p>\n        09:00am<span>(60 min)</span>\n        </p>\n        <p>\n          All Levels<span>Female</span>\n          <span>(18+)</span>\n          <span>{data.no_of_participants}</span>\n        </p>\n\n        <p>\n          PILATES<span>Shuwaikh Mayar Complex</span>\n          <span>w/ Lucy</span>\n        </p>\n        \n        <span class=\"mobile-view-seats\">{seats}</span>\n      </div>\n\n      <div className=\"cancel-button-wrapper\">\n        <div>\n          <button\n            className=\"book-btn\"\n            id={`book-${id}`}\n            onClick={(e) => {\n              ButtonOnClick(true);\n            }}>\n            {buttonValue}\n          </button>\n\n          <button\n            id={`booked-${id}`}\n            className=\"booked-button\"\n            style={{ display: \"none\" }}>\n            Booked\n          </button>\n\n          <button\n            id={`cancel-${id}`}\n            className=\"cancel-button\"\n            style={{ display: \"none\" }}>\n            Cancel\n          </button>\n\n          <span className=\"available-seats\" id={`seats-${id}`}>\n            {seats}\n          </span>\n          \n        </div>\n        \n      </div>\n      \n    </div>\n      ))}\n      \n     \n    </>\n  );\n} */}\n"]},"metadata":{},"sourceType":"module"}