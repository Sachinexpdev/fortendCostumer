{"ast":null,"code":"var _jsxFileName = \"/home/development/floey 1/CustomerPortal/Sept14,2021/floey-customer/src/views/components/ExploreComponents/CourseExplore.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Cookies from \"universal-cookie\";\nimport LeftArrow from \"../../../assets/img/left-arrow.svg\";\nimport RightArrow from \"../../../assets/img/right-arrow.svg\";\nimport ExploreCourseCard from \"./ExploreCourseCard\";\nimport BASE_URL from \"../../pages/base\";\nimport { HandleBookng } from \"../../../assets/js/Events/HandleBooking\";\nimport axios from \"axios\";\nimport $ from 'jquery';\nimport Loader from \"../../../assets/img/loader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies(); // Course date/mounth fun.\n\nfunction CourseExplore(buttonValue, ButtonOnClick, seats, id) {\n  _s();\n\n  const [Mockup, ShowMockup] = useState(false);\n  const [ActiveButton, setActiveButton] = useState(1);\n  const [NoData, setNoData] = useState(false);\n  const [CurrentMargin, setCurrentMargin] = useState(0);\n  const [date_slots, setSlots] = useState([]);\n  const [FetchData, getFetchData] = useState([// { id: 1, day: \"mon\" },\n  ]);\n  useEffect(() => {\n    cookies.remove('date', {\n      path: '/'\n    });\n    axios.get(BASE_URL + 'gymprofile/course_timeline').then(res => {\n      setSlots(res.data);\n    }).catch(err => {});\n  }, []); // **********************************\n  // **************Course details****************\n\n  const [crs, getcourse] = useState([]);\n  useEffect(() => {\n    console.log(buttonValue);\n    console.log(id);\n\n    if (id && id !== 1) {\n      axios.get(BASE_URL + 'gymprofile/get_course/' + id).then(res => {\n        getcourse(res.data); // console.log()\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }, []);\n  useEffect(() => {\n    HandleBookng();\n  }, []); // ******************************************\n\n  const HandleForwardMoveSlider = e => {\n    let Reel = document.querySelector(\".course-explore-reel\");\n\n    if (CurrentMargin < 0) {\n      setCurrentMargin(CurrentMargin + 88);\n    }\n  };\n\n  const HandleBackMoveSlider = e => {\n    let Reel = document.querySelector(\".course-explore-reel\");\n\n    if (CurrentMargin < 400) {\n      setCurrentMargin(CurrentMargin - 88);\n    }\n  };\n\n  const ShowMockupFunc = value => {\n    ShowMockup(value);\n  };\n\n  const HandleMokeUpOperation = () => {\n    ShowMockup(false);\n  };\n\n  function getClassesObjs(year, month) {\n    setActiveButton(month);\n    getClas(year, month);\n  }\n\n  const getClas = (year, month) => {\n    getFetchData([]);\n    $(\".laoder\").show();\n    $(\".course-explore-cards\").hide();\n    axios.get(BASE_URL + 'gymprofile/course?year=' + year + '&month=' + month + '&gym_id=' + cookies.get('gym_uuid')).then(res => {\n      let FilterData = [];\n\n      for (let i = 0; i < res.data.length; i++) {\n        FilterData.push({\n          'id': res.data[i],\n          'day': 'mon'\n        });\n      }\n\n      console.clear();\n      console.log(FilterData);\n      getFetchData(FilterData);\n      $(\".laoder\").hide();\n      $(\".course-explore-cards\").show();\n      {\n        FilterData.length == 0 ? setNoData(true) : setNoData(false);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    const monthNames = [\"Jan\", \"Feb\", \"Mar\", \"April\", \"May\", \"June\", \"July\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n    const d = new Date();\n    console.clear();\n    setActiveButton(monthNames[d.getMonth()]);\n    getClas(d.getFullYear(), monthNames[d.getMonth()]);\n  }, ''); // var disabledDates = [\"2021-11-14\",\"2021-11-21\"];\n  // $(\"#appointmentpicker\").datepicker({\n  // \tbeforeShowDay: function(date) {\n  // \t   //Simdilik pazar gununu kapatiyoruz\n  // \t   \tvar day = date.getDay();\n  // \t   \tvar month = date.getMonth();\n  // \t   \tvar year = date.getYear();\n  // \t\tvar string = $.datepicker.formatDate('yy-mm-dd', date);\n  // \t   \treturn [(day != 0) && disabledDates.indexOf(string) == -1,''];\n  // \t}\n  // });\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"CourseExplore\",\n    children: [Mockup === true && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"schedule-mockup\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dialog-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Your booking was successfull.  \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Answers-button\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: HandleMokeUpOperation,\n            children: \"Continue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-explore-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course-explore-reel-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: LeftArrow,\n          className: \"coure-explore-left-arrow\",\n          onClick: HandleBackMoveSlider\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"course-explore-reel\",\n          style: {\n            marginLeft: CurrentMargin\n          },\n          children: date_slots.map(dt => {\n            return /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: `${ActiveButton == dt.month && \"active \" + cookies.get(\"theme\")}`,\n              id: dt.month,\n              onClick: () => getClassesObjs(dt.year, dt.month),\n              children: [dt.month, /*#__PURE__*/_jsxDEV(\"span\", {\n                children: dt.year\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 22\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: RightArrow,\n          className: \"coure-explore-right-arrow\",\n          onClick: HandleForwardMoveSlider\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"laoder\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n        src: Loader\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-explore-cards\",\n      children: [FetchData.map(fd => {\n        return /*#__PURE__*/_jsxDEV(ExploreCourseCard, {\n          id: fd.id,\n          buttonValue: \"Book\",\n          ButtonOnClick: ShowMockupFunc,\n          seats: \"\" // \"2 Seats Available\"\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 18\n        }, this);\n      }), NoData == true && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-data-container\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"No Courses available for this day. Please try another date.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 16\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CourseExplore, \"2G3InsadJIw+OAJCLdxGJdr+CIU=\");\n\n_c = CourseExplore;\nexport default CourseExplore;\n\nvar _c;\n\n$RefreshReg$(_c, \"CourseExplore\");","map":{"version":3,"sources":["/home/development/floey 1/CustomerPortal/Sept14,2021/floey-customer/src/views/components/ExploreComponents/CourseExplore.js"],"names":["React","useEffect","useState","Cookies","ExploreCourseCard","BASE_URL","HandleBookng","axios","$","Loader","cookies","CourseExplore","buttonValue","ButtonOnClick","seats","id","Mockup","ShowMockup","ActiveButton","setActiveButton","NoData","setNoData","CurrentMargin","setCurrentMargin","date_slots","setSlots","FetchData","getFetchData","remove","path","get","then","res","data","catch","err","crs","getcourse","console","log","HandleForwardMoveSlider","e","Reel","document","querySelector","HandleBackMoveSlider","ShowMockupFunc","value","HandleMokeUpOperation","getClassesObjs","year","month","getClas","show","hide","FilterData","i","length","push","clear","monthNames","d","Date","getMonth","getFullYear","LeftArrow","marginLeft","map","dt","RightArrow","fd"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Cookies from \"universal-cookie\";\nimport LeftArrow from \"../../../assets/img/left-arrow.svg\";\nimport RightArrow from \"../../../assets/img/right-arrow.svg\";\nimport ExploreCourseCard from \"./ExploreCourseCard\";\nimport BASE_URL from \"../../pages/base\";\nimport { HandleBookng } from \"../../../assets/js/Events/HandleBooking\";\nimport axios from \"axios\";\nimport $ from 'jquery';\nimport Loader from \"../../../assets/img/loader\";\n\nconst cookies = new Cookies();\n // Course date/mounth fun.\nfunction CourseExplore(buttonValue, ButtonOnClick, seats, id) {\nconst [Mockup, ShowMockup] = useState(false);\nconst [ActiveButton, setActiveButton] = useState(1);\nconst [NoData, setNoData] = useState(false);\nconst [CurrentMargin, setCurrentMargin] = useState(0);\nconst [date_slots, setSlots] = useState([]);\nconst [FetchData, getFetchData] = useState([\n  // { id: 1, day: \"mon\" },\n]);\n\n  useEffect(() => {\n    cookies.remove('date',{path:'/'})\n    axios\n      .get(BASE_URL + 'gymprofile/course_timeline')\n      .then(res => {\n        setSlots(res.data)\n      \n      })\n      .catch(err => {\n        \n      })\n  }, [])\n// **********************************\n\n\n// **************Course details****************\nconst [crs, getcourse] = useState([])\nuseEffect(() => {\n  \n  console.log(buttonValue)\n  console.log(id)\n  if(id && id!==1){\n    \n  axios\n    .get(BASE_URL + 'gymprofile/get_course/'+id)\n    .then(res => {\n      getcourse(res.data)\n      // console.log()\n    })\n    .catch(err => {\n      console.log(err)\n    })\n  }\n  \n},[])\nuseEffect(() => {\n  HandleBookng();\n}, []);\n\n// ******************************************\n\n  const HandleForwardMoveSlider = (e) => {\n    let Reel = document.querySelector(\".course-explore-reel\");\n    if (CurrentMargin < 0) {\n      setCurrentMargin(CurrentMargin + 88);\n    }\n  };\n\n  const HandleBackMoveSlider = (e) => {\n    let Reel = document.querySelector(\".course-explore-reel\");\n    if (CurrentMargin < 400) {\n      setCurrentMargin(CurrentMargin - 88);\n    }\n  };\n\n  const ShowMockupFunc = (value) => {\n    ShowMockup(value);\n  };\n\n  const HandleMokeUpOperation = () => {\n    ShowMockup(false);\n  };\n\n\n  function getClassesObjs(year,month){\n   setActiveButton(month)\n   getClas(year,month);\n  }\n\n  const getClas=(year,month)=>{\n    \n    getFetchData([])\n    $(\".laoder\").show();\n    $(\".course-explore-cards\").hide();\n    axios\n      .get(BASE_URL + 'gymprofile/course?year='+year+'&month='+month+'&gym_id='+cookies.get('gym_uuid'))\n      .then(res => {\n        let FilterData = []\n        for(let i=0;i<res.data.length;i++){\n          FilterData.push({'id':res.data[i],'day':'mon'})\n        }\n        console.clear()\n        console.log(FilterData)\n        getFetchData(FilterData)\n        $(\".laoder\").hide();\n        $(\".course-explore-cards\").show();\n        {\n          FilterData.length == 0 ? setNoData(true) : setNoData(false);\n        }\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n  useEffect(() => {\n    const monthNames = [\"Jan\", \"Feb\", \"Mar\", \"April\", \"May\", \"June\",\n  \"July\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"\n];\n\nconst d = new Date();\n\n    console.clear();\n    setActiveButton(monthNames[d.getMonth()]);    \n    \n    \n    \n    getClas(d.getFullYear(),monthNames[d.getMonth()])\n  }, '');\n\n\n\n// var disabledDates = [\"2021-11-14\",\"2021-11-21\"];\n// $(\"#appointmentpicker\").datepicker({\n// \tbeforeShowDay: function(date) {\n// \t   //Simdilik pazar gununu kapatiyoruz\n// \t   \tvar day = date.getDay();\n// \t   \tvar month = date.getMonth();\n// \t   \tvar year = date.getYear();\n// \t\tvar string = $.datepicker.formatDate('yy-mm-dd', date);\n// \t   \treturn [(day != 0) && disabledDates.indexOf(string) == -1,''];\n// \t}\n// });\n\n  return (\n    <div className=\"CourseExplore\">\n      {Mockup === true && (\n        <div className=\"schedule-mockup\">\n          <div className=\"dialog-box\">\n            <p>Your booking was successfull.  </p>\n            <div className=\"Answers-button\">\n              <button onClick={HandleMokeUpOperation}>Continue</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"course-explore-header\">\n        <div className=\"course-explore-reel-container\">\n          <img\n            src={LeftArrow}\n            className=\"coure-explore-left-arrow\"\n            onClick={HandleBackMoveSlider}\n          />\n          <div\n            className=\"course-explore-reel\"\n            style={{ marginLeft: CurrentMargin }}>\n            {date_slots.map(dt=>{\n              return <h1\n              className={`${ActiveButton == dt.month && \"active \"+cookies.get(\"theme\")}`}\n              id={dt.month}\n              onClick={() => getClassesObjs(dt.year,dt.month)}>\n              {dt.month}<span>{dt.year}</span>\n            </h1>\n            \n            })}\n        </div>\n          <img\n            src={RightArrow}\n            className=\"coure-explore-right-arrow\"\n            onClick={HandleForwardMoveSlider}\n          />\n        </div>\n      </div>\n\n      <div class=\"laoder\"> <img src={Loader} /></div>\n      <div className=\"course-explore-cards\">\n        {FetchData.map(fd=>{\n          return <ExploreCourseCard\n          id={fd.id}\n          buttonValue=\"Book\"\n          ButtonOnClick={ShowMockupFunc}\n          seats=\"\"\n          // \"2 Seats Available\"\n        />})}\n        {NoData == true && (\n          <div className=\"no-data-container\">\n            <p><i>No Courses available for this day. Please try another date.</i> </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default CourseExplore;\n"]},"metadata":{},"sourceType":"module"}